<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steal a Magyar Youtuber - Trade & Chat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(255, 215, 0, 0.6);
            border-radius: 50%;
            animation: float 15s infinite;
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ffd700, #ffaa00, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }

        /* Back button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
        }

        /* Selection Screen */
        .selection-screen {
            display: block;
        }

        .selection-screen.hidden {
            display: none;
        }

        .youtuber-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .youtuber-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .youtuber-card:hover {
            transform: translateY(-5px);
            border-color: #ffd700;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.3);
        }

        .youtuber-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            margin: 0 auto 15px;
            border: 3px solid #ffd700;
        }

        .youtuber-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 8px;
        }

        .youtuber-subtitle {
            font-size: 0.9rem;
            color: #aaa;
        }

        .youtuber-stats {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            font-size: 0.85rem;
            color: #888;
        }

        /* Trade & Chat Screen */
        .trade-chat-screen {
            display: none;
        }

        .trade-chat-screen.active {
            display: block;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 900px) {
            .main-layout {
                grid-template-columns: 1fr;
            }
        }

        .panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            border: 2px solid #ffd700;
        }

        .panel-info h2 {
            color: #ffd700;
            font-size: 1.3rem;
        }

        .panel-info p {
            color: #888;
            font-size: 0.9rem;
        }

        /* Trade Section */
        .inventory-section {
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 1rem;
            color: #aaa;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
        }

        .item {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid transparent;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .item:hover {
            border-color: rgba(255, 215, 0, 0.5);
            background: rgba(255, 215, 0, 0.1);
        }

        .item.selected {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.2);
        }

        .item-icon {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .item-name {
            font-size: 0.75rem;
            color: #ccc;
        }

        .trade-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .trade-offer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 10px;
        }

        .trade-side {
            flex: 1;
            text-align: center;
        }

        .trade-side-title {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 8px;
        }

        .trade-items {
            display: flex;
            justify-content: center;
            gap: 5px;
            min-height: 50px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 8px;
            flex-wrap: wrap;
        }

        .trade-item {
            font-size: 1.5rem;
        }

        .trade-arrow {
            font-size: 1.5rem;
            color: #ffd700;
        }

        .trade-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            color: #1a1a2e;
        }

        .btn-primary:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-danger {
            background: rgba(255, 80, 80, 0.2);
            color: #ff6b6b;
            border: 1px solid rgba(255, 80, 80, 0.3);
        }

        .btn-danger:hover {
            background: rgba(255, 80, 80, 0.3);
        }

        /* Chat Section */
        .chat-messages {
            height: 350px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 215, 0, 0.3);
            border-radius: 3px;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            gap: 10px;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            flex-shrink: 0;
            border: 2px solid #ffd700;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .message-content {
            max-width: 70%;
        }

        .message-bubble {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 10px 15px;
            display: inline-block;
        }

        .message.user .message-bubble {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 0.3%);
        }

        .message-text {
            color: #fff;
            line-height: 1.4;
        }

        .message-time {
            font-size: 0.7rem;
            color: #666;
            margin-top: 5px;
        }

        .typing-indicator {
            display: none;
            color: #888;
            font-style: italic;
            font-size: 0.9rem;
            padding: 10px;
        }

        .typing-indicator.active {
            display: block;
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
            font-size: 1rem;
        }

        .chat-input input:focus {
            outline: none;
            border-color: #ffd700;
        }

        .chat-input input::placeholder {
            color: #666;
        }

        /* Response Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 2px solid #ffd700;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: modalPop 0.3s ease;
        }

        @keyframes modalPop {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .modal h3 {
            color: #ffd700;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .modal-text {
            color: #ccc;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .modal-response {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .modal-response-text {
            font-style: italic;
            color: #ffd700;
            font-size: 1.1rem;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
        }

        .counter-offer {
            display: none;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .counter-offer.active {
            display: block;
        }

        .counter-title {
            font-size: 0.9rem;
            color: #ffd700;
            margin-bottom: 10px;
        }

        .counter-items {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .counter-item {
            font-size: 2rem;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .status-offline {
            background: rgba(255, 80, 80, 0.2);
            color: #ff6b6b;
        }

        .status-online {
            background: rgba(80, 255, 80, 0.2);
            color: #80ff80;
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="container">
        <a href="index.html" class="back-btn">
            <span>‚Üê</span> Vissza a f≈ëoldalra
        </a>

        <h1>üéÆ Trade & Chat</h1>
        <p class="subtitle">V√°lassz egy Youtubert √©s kezdj el tradelni √©s csevegni!</p>

        <!-- Selection Screen -->
        <div class="selection-screen" id="selectionScreen">
            <h2 style="text-align: center; color: #ffd700; margin-bottom: 20px;">V√°lassz Youtubert</h2>
            <div class="youtuber-grid" id="youtuberGrid"></div>
        </div>

        <!-- Trade & Chat Screen -->
        <div class="trade-chat-screen" id="tradeChatScreen">
            <div class="main-layout">
                <!-- Left Panel - Trade -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-avatar" id="youtuberAvatar">üë§</div>
                        <div class="panel-info">
                            <h2 id="youtuberName">Youtuber</h2>
                            <p><span class="status-badge status-online" id="statusBadge">üü¢ Online</span></p>
                        </div>
                    </div>

                    <div class="inventory-section">
                        <div class="section-title">üì¶ A te t√°rgyaid</div>
                        <div class="inventory-grid" id="playerInventory"></div>
                    </div>

                    <div class="trade-area">
                        <div class="trade-offer">
                            <div class="trade-side">
                                <div class="trade-side-title">Te adsz</div>
                                <div class="trade-items" id="playerOffer"></div>
                            </div>
                            <div class="trade-arrow">‚áÑ</div>
                            <div class="trade-side">
                                <div class="trade-side-title" id="youtuberNameOffer">≈ê ad</div>
                                <div class="trade-items" id="youtuberOffer"></div>
                            </div>
                        </div>
                        <div class="trade-actions">
                            <button class="btn btn-secondary" onclick="clearOffer()">T√∂rl√©s</button>
                            <button class="btn btn-primary" onclick="sendTradeOffer()">Trade javaslat</button>
                        </div>
                    </div>
                </div>

                <!-- Right Panel - Chat -->
                <div class="panel">
                    <div class="panel-header">
                        <div class="panel-avatar" id="chatAvatar">üí¨</div>
                        <div class="panel-info">
                            <h2>Chat</h2>
                            <p>Besz√©lgess a Youtuberrel!</p>
                        </div>
                    </div>

                    <div class="chat-messages" id="chatMessages">
                        <!-- Messages will be added here -->
                    </div>

                    <div class="typing-indicator" id="typingIndicator">
                        <span id="youtuberNameTyping">Youtuber</span> g√©pel...
                    </div>

                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="√çrj egy √ºzenetet..." onkeypress="handleKeyPress(event)">
                        <button class="btn btn-primary" onclick="sendMessage()" style="flex: 0;">K√ºld√©s</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Response Modal -->
    <div class="modal-overlay" id="responseModal">
        <div class="modal">
            <h3 id="modalTitle">Trade v√°lasz</h3>
            <div class="modal-response">
                <div class="modal-response-text" id="modalResponse">H√°t nem tudom...</div>
            </div>
            <div class="counter-offer" id="counterOffer">
                <div class="counter-title">Aj√°nlat helyette:</div>
                <div class="counter-items" id="counterItems"></div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">Bez√°r√°s</button>
                <button class="btn btn-primary" id="modalAcceptBtn" onclick="acceptTrade()" style="display: none;">Elfogad√°s</button>
            </div>
        </div>
    </div>

    <script>
        // Youtuber data
        const youtubers = [
            {
                id: 1,
                name: "Kov√°cs Viktor",
                emoji: "üéÆ",
                subtitle: "Gaming Youtuber",
                subscribers: "1.2M",
                videos: "542",
                personality: "energetic",
                items: ["üéÆ", "üïπÔ∏è", "üéØ", "üèÜ"],
                responses: {
                    greeting: ["Szia! J√≥l l√°tom, j√∂tt√©l tradelni? Hadd l√°ssam mit van n√°lad!", "Yo! Mi a helyzet? Van valami j√≥ aj√°nlat?", "√údv! A trade zoneba l√©pt√©l. V√°gjunk bele!"],
                    interested: ["Hmm, ez t√©nleg nem rossz! B√∂ng√©szem...", "Oh, ez √©rdekes! Mondd csak...", "Ez megfontol√°sra √©rdemes!"],
                    notInterested: ["H√°t, ez most nem igaz√°n tetszik...", "Sajnos nem √©rzem a vibe-ot ebben.", "Nem az √©n st√≠lusom, de k√∂szi!"],
                    counter: ["Van egy jobb √∂tletem! Mi lenne ez?", "Ehelyett mit mondasz erre?"],
                    accept: ["Kell! K√©sz √ºzlet! GG!", "Ez az! Legyen √≠gy!", "Na az t√©nleg j√≥! Meg√°llapodtunk!"]
                }
            },
            {
                id: 2,
                name: "Nagy Anna",
                emoji: "üëó",
                subtitle: "Beauty & Lifestyle",
                subscribers: "890K",
                videos: "312",
                personality: "friendly",
                items: ["üíÑ", "üë†", "üíé", "üëú"],
                responses: {
                    greeting: ["Szia kedves! √ñr√ºl√∂k, hogy megl√°togatt√°l! Mit hozt√°l nekem?", "Hello! Jaj, de izgi, hogy itt vagy!"],
                    interested: ["Oh, ez nagyon sz√©p! Tetszik!", "Ezt el kellene mondanom a n√©z≈ëimnek!", "Jaj, de aranyos!"],
                    notInterested: ["H√°t, ez nem az √©n st√≠lusom...", "Sajnos nem illik a kollekci√≥mba.", "Nem √©ppen azt kerestem, de k√∂szi!"],
                    counter: ["Van valami sokkal jobb is! N√©zd csak!", "Ink√°bb ezt cser√©ln√©m!"],
                    accept: ["T√∂k√©letes! √Ålom a csere!", "Igen, igen, ez az! K√∂sz√∂n√∂m!", "De szuper! Meg√°llapodtunk!"]
                }
            },
            {
                id: 3,
                name: "Gerg≈ë Gaming",
                emoji: "üéØ",
                subtitle: "Pro Gamer",
                subscribers: "2.1M",
                videos: "1200",
                personality: "competitive",
                items: ["‚öîÔ∏è", "üõ°Ô∏è", "üé≤", "üëë"],
                responses: {
                    greeting: ["Yo! Felk√©sz√ºlt√©l a tradel√©sre? Mutasd mit tudsz!", "Szia! Gamerb≈ël gamernek. Van valami pro stuff?", "√údv! A trade bajnoks√°g√°n vagyunk. Hozd a legjobbat!"],
                    interested: ["Hmm, ez kompetit√≠v szint! Tetszik!", "Ez hasznos lehet! Mondd csak...", "Pro t√©tel! N√©zz√ºk..."],
                    notInterested: ["Ez nem meta. Nem kell.", "Sajnos ez nem √©ri meg.", "Noob szint aj√°nlat. Nem tudom elfogadni."],
                    counter: ["Van jobb aj√°nlatom. Ez a meta!", "Ink√°bb ezt cser√©ln√©m!"],
                    accept: ["GG! K√©sz √ºzlet!", "Ez a pro d√∂nt√©s! Meg√°llapodtunk!", "Pog! Trade complete!"]
                }
            },
            {
                id: 4,
                name: "Peti Pec√°s",
                emoji: "üêü",
                subtitle: "Fishing & Outdoor",
                subscribers: "450K",
                videos: "234",
                personality: "relaxed",
                items: ["üé£", "üêü", "‚õµ", "üåä"],
                responses: {
                    greeting: ["Szia pec√°s! Mit hozt√°l? Lehet, van valami ami kell!", "Hali! V√≠zed van? J√∂het a trade!", "Szia! Horg√°szok √∂sszefognak!"],
                    interested: ["Oh, ezt fel kell b√≠znia!", "Ez j√≥ fog√°snak t≈±nik!", "H√°t ez nem rossz!"],
                    notInterested: ["Ez most nem nyerte el a tetsz√©semet.", "H√°t, ez nem a hal√°szat...", "Nem ez volt a megfogand√≥!"],
                    counter: ["Van jobb fog√°som! N√©zd!", "Ink√°bb a v√≠zbe ill≈ët cser√©ln√©m!"],
                    accept: ["Kell! Ez j√≥ fog√°s!", "T√∂k√©letes! Meg√°llapodtunk!", "Na az t√©nleg j√≥!"]
                }
            },
            {
                id: 5,
                name: "Lilla Tech",
                emoji: "üíª",
                subtitle: "Tech Reviewer",
                subscribers: "680K",
                videos: "456",
                personality: "analytical",
                items: ["üì±", "üíª", "üéß", "‚å®Ô∏è"],
                responses: {
                    greeting: ["√údv! Milyen tech-et hozt√°l ma?", "Hello! N√©zz√ºk meg a specifik√°ci√≥kat!", "Szia! A trade laborba l√©pt√©l."],
                    interested: ["Ez √©rdekes technol√≥gia! B√∂ng√©szem...", "Hmm, a spec-ok nem rosszak!", "Ezt √©rdemes reviewolni!"],
                    notInterested: ["A specifik√°ci√≥k nem megfelel≈ëek.", "Ez nem a kateg√≥ri√°m.", "Sajnos nem teljes√≠ti az elv√°r√°sokat."],
                    counter: ["Van jobb specifik√°ci√≥j√∫ aj√°nlatom!", "Ink√°bb ezt v√°lasztan√°m!"],
                    accept: ["Kell! Ez a megfelel≈ë v√°laszt√°s!", "Ez a d√∂nt√©s! Meg√°llapodtunk!", "T√∂k√©letes! Trade megt√∂rt√©nt!"]
                }
            },
            {
                id: 6,
                name: "Dani Vlogger",
                emoji: "üìπ",
                subtitle: "Daily Vlogger",
                subscribers: "1.5M",
                videos: "890",
                personality: "enthusiastic",
                items: ["üìπ", "üé§", "‚ú®", "üé¨"],
                responses: {
                    greeting: ["Szia!! Nagyon izgi, hogy itt vagy! Mit hozt√°l?", "Hello!! A mai vlog: trade time!", "√údv√∂z√∂llek! Hadd l√°ssam a cuccaid!"],
                    interested: ["Oh my god, ez t√∂k j√≥!", "Jaj, ezt be kell mutatnom a vlogban!", "Ez t√©nleg nem rossz!"],
                    notInterested: ["H√°t, ez nem az √©n eszt√©tik√°m.", "Sajnos nem illik a theme-be!", "Nem √©rezem ezt a v√°j√∫t!"],
                    counter: ["Van sokkal jobb √∂tletem! N√©zd!", "Ink√°bb ezt cser√©ln√©m!"],
                    accept: ["Ez az!! T√∂k√©letes trade!", "Na az t√©nleg j√≥! Meg√°llapodtunk!", "Yesss! K√©sz vagyunk!"]
                }
            }
        ];

        // Player inventory
        const playerItems = [
            { id: 1, name: "Arany kark√∂t≈ë", icon: "‚åö" },
            { id: 2, name: "Rozsd√°s kard", icon: "üó°Ô∏è" },
            { id: 3, name: "Var√°zsk≈ë", icon: "üîÆ" },
            { id: 4, name: "S√°rk√°nytoj√°s", icon: "ü•ö" },
            { id: 5, name: "Arany alma", icon: "üçé" },
            { id: 6, name: "Ez√ºst kulcs", icon: "üîë" },
            { id: 7, name: "Gy≈±r≈±", icon: "üíç" },
            { id: 8, name: "B√°bu", icon: "‚ôüÔ∏è" },
            { id: 9, name: "Korona", icon: "üëë" },
            { id: 10, name: "Dr√°gak≈ë", icon: "üíé" },
            { id: 11, name: "Eserny≈ë", icon: "‚òÇÔ∏è" },
            { id: 12, name: "L√°mp√°s", icon: "üèÆ" }
        ];

        let selectedYoutuber = null;
        let selectedPlayerItems = [];
        let chatHistory = [];

        // Create particles
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(particle);
            }
        }

        // Render youtuber grid
        function renderYoutuberGrid() {
            const grid = document.getElementById('youtuberGrid');
            grid.innerHTML = youtubers.map(y => `
                <div class="youtuber-card" onclick="selectYoutuber(${y.id})">
                    <div class="youtuber-avatar">${y.emoji}</div>
                    <div class="youtuber-name">${y.name}</div>
                    <div class="youtuber-subtitle">${y.subtitle}</div>
                    <div class="youtuber-stats">
                        <span>üë• ${y.subscribers}</span>
                        <span>üì∫ ${y.videos}</span>
                    </div>
                </div>
            `).join('');
        }

        // Select youtuber
        function selectYoutuber(id) {
            selectedYoutuber = youtubers.find(y => y.id === id);
            selectedPlayerItems = [];
            chatHistory = [];

            document.getElementById('youtuberAvatar').textContent = selectedYoutuber.emoji;
            document.getElementById('youtuberName').textContent = selectedYoutuber.name;
            document.getElementById('chatAvatar').textContent = selectedYoutuber.emoji;
            document.getElementById('youtuberNameOffer').textContent = `${selectedYoutuber.name} ad`;
            document.getElementById('youtuberNameTyping').textContent = selectedYoutuber.name;

            document.getElementById('selectionScreen').classList.add('hidden');
            document.getElementById('tradeChatScreen').classList.add('active');

            renderPlayerInventory();
            renderYoutuberOffer();
            clearChat();

            // Send greeting
            setTimeout(() => {
                const greeting = getRandomResponse('greeting');
                addMessage(selectedYoutuber.name, greeting, selectedYoutuber.emoji, false);
            }, 500);
        }

        // Render player inventory
        function renderPlayerInventory() {
            const grid = document.getElementById('playerInventory');
            grid.innerHTML = playerItems.map(item => `
                <div class="item ${selectedPlayerItems.includes(item.id) ? 'selected' : ''}" onclick="toggleItem(${item.id})">
                    <div class="item-icon">${item.icon}</div>
                    <div class="item-name">${item.name}</div>
                </div>
            `).join('');
        }

        // Render youtuber offer
        function renderYoutuberOffer() {
            const offerDiv = document.getElementById('youtuberOffer');
            const randomItems = shuffleArray([...selectedYoutuber.items]).slice(0, 2);
            offerDiv.innerHTML = randomItems.map(item => `<span class="trade-item">${item}</span>`).join('');
        }

        // Toggle item selection
        function toggleItem(itemId) {
            const index = selectedPlayerItems.indexOf(itemId);
            if (index > -1) {
                selectedPlayerItems.splice(index, 1);
            } else if (selectedPlayerItems.length < 3) {
                selectedPlayerItems.push(itemId);
            }
            renderPlayerInventory();
            renderPlayerOffer();
        }

        // Render player offer
        function renderPlayerOffer() {
            const offerDiv = document.getElementById('playerOffer');
            const items = selectedPlayerItems.map(id => playerItems.find(i => i.id === id));
            offerDiv.innerHTML = items.map(item => `<span class="trade-item">${item.icon}</span>`).join('');
        }

        // Clear offer
        function clearOffer() {
            selectedPlayerItems = [];
            renderPlayerInventory();
            renderPlayerOffer();
        }

        // Send trade offer
        function sendTradeOffer() {
            if (selectedPlayerItems.length === 0) {
                showModal('Hiba!', 'Nem v√°lasztott√°l semmit!', false);
                return;
            }

            const interested = Math.random() > 0.4;

            if (interested) {
                const willCounter = Math.random() > 0.5;
                if (willCounter) {
                    const response = getRandomResponse('counter');
                    showModal('Trade v√°lasz', response, true, true);
                } else {
                    const response = getRandomResponse('interested');
                    showModal('Trade v√°lasz', response, true, false);
                }

                addMessage(selectedYoutuber.name, getRandomResponse('interested'), selectedYoutuber.emoji, false);
            } else {
                const response = getRandomResponse('notInterested');
                showModal('Trade v√°lasz', response, false, false);
                addMessage(selectedYoutuber.name, response, selectedYoutuber.emoji, false);
            }
        }

        // Show modal
        function showModal(title, text, canAccept, showCounter = false) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalResponse').textContent = text;
            document.getElementById('modalAcceptBtn').style.display = canAccept ? 'inline-block' : 'none';
            document.getElementById('counterOffer').classList.remove('active');

            if (showCounter) {
                const counterItems = shuffleArray([...selectedYoutuber.items]).slice(0, 3);
                document.getElementById('counterItems').innerHTML = counterItems.map(i => `<span class="counter-item">${i}</span>`).join('');
                document.getElementById('counterOffer').classList.add('active');
            }

            document.getElementById('responseModal').classList.add('active');
        }

        // Close modal
        function closeModal() {
            document.getElementById('responseModal').classList.remove('active');
        }

        // Accept trade
        function acceptTrade() {
            const response = getRandomResponse('accept');
            addMessage(selectedYoutuber.name, response, selectedYoutuber.emoji, false);
            closeModal();
            clearOffer();
            renderYoutuberOffer();
        }

        // Get random response
        function getRandomResponse(type) {
            const responses = selectedYoutuber.responses[type];
            return responses[Math.floor(Math.random() * responses.length)];
        }

        // Shuffle array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Clear chat
        function clearChat() {
            document.getElementById('chatMessages').innerHTML = '';
        }

        // Add message to chat
        function addMessage(sender, text, avatar, isUser = false) {
            const messagesDiv = document.getElementById('chatMessages');
            const time = new Date().toLocaleTimeString('hu-HU', { hour: '2-digit', minute: '2-digit' });

            const messageHtml = `
                <div class="message ${isUser ? 'user' : ''}">
                    <div class="message-avatar">${avatar}</div>
                    <div class="message-content">
                        <div class="message-bubble">
                            <div class="message-text">${text}</div>
                        </div>
                        <div class="message-time">${time}</div>
                    </div>
                </div>
            `;

            messagesDiv.innerHTML += messageHtml;
            messagesDiv.scrollTop = messagesDiv.scrollHeight;

            chatHistory.push({ sender, text, isUser });
        }

        // Send message
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();

            if (!text) return;

            addMessage('Te', text, 'üë§', true);
            input.value = '';

            // Show typing indicator
            document.getElementById('typingIndicator').classList.add('active');

            // Generate response
            setTimeout(() => {
                document.getElementById('typingIndicator').classList.remove('active');

                const response = generateResponse(text);
                addMessage(selectedYoutuber.name, response, selectedYoutuber.emoji, false);
            }, 1000 + Math.random() * 1500);
        }

        // Generate AI response based on message
        function generateResponse(userMessage) {
            const msg = userMessage.toLowerCase();
            const responses = selectedYoutuber.responses;

            // Greeting responses
            if (msg.includes('szia') || msg.includes('hello') || msg.includes('hey') || msg.includes('√ºdv') || msg.includes('cs√°')) {
                return randomChoice(["Szia! J√≥l halad a tradel√©s?", "√údv! Van valami √∫j aj√°nlat?", "Hali! Mir≈ël besz√©lgess√ºnk?"]);
            }

            // Trade related
            if (msg.includes('trade') || msg.includes('cser') || msg.includes('aj√°nlat') || msg.includes('adni')) {
                return randomChoice(responses.interested);
            }

            // Questions
            if (msg.includes('mi√©rt') || msg.includes('hogyan') || msg.includes('mit')) {
                return randomChoice(["H√°t √©rdekes k√©rd√©s...", "Azt hiszem...", "Nos, ez egy j√≥ k√©rd√©s!"]);
            }

            // Thanks
            if (msg.includes('k√∂szi') || msg.includes('k√∂sz') || msg.includes('thanks')) {
                return randomChoice(["Nagyon sz√≠vesen!", "Semmi gond!", "√ñr√∂mmel!"]);
            }

            // Bye
            if (msg.includes('viszlat') || msg.includes('viszl√°t') || msg.includes('szia') && msg.length < 10) {
                return randomChoice(["Szia legk√∂zelebb!", "Viszl√°t! J√∂jj vissza!", "K√∂sz√∂n√∂m hogy ell√°togatt√°l!"]);
            }

            // Youtuber specific
            if (msg.includes('vide√≥') || msg.includes('content')) {
                return randomChoice(["A leg√∫jabb vide√≥m? Hamarosan j√∂n!", "Content tervez√©s k√∂zben vagyok!", "Lesz egy szuper vide√≥ hamarosan!"]);
            }

            // Happy/excited
            if (msg.includes('j√≥') || msg.includes('sz√©p') || msg.includes('szuper') || msg.includes('t√∂k√©letes')) {
                return randomChoice(["√ñr√ºl√∂k hogy tetszik!", "K√∂sz√∂n√∂m!", "T√©nleg? √ñr√ºl√∂k!"]);
            }

            // Default responses
            const defaults = [
                "√ârdekes! Mondd tov√°bb!",
                "H√°t, ez gondolkodtat...",
                "Hmm, nem rossz √∂tlet!",
                "Na az t√©nleg!",
                "Megfontoland√≥!",
                "J√∂het m√©g ilyen!",
                "K√∂sz√∂n√∂m a feedback!",
                "Ez nagyon vicces! üòÑ",
                "H√°t erre mit mondjak...",
                "GG!"
            ];

            return randomChoice(defaults);
        }

        function randomChoice(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        // Handle enter key
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            renderYoutuberGrid();
        });
    </script>
</body>
</html>
